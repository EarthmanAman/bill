{% extends "admin_base.html"%}
{% load static %}
{% block custom_css %}
	<link rel="stylesheet" type="text/css" href="{% static 'css/profile.css' %}">
{% endblock %}
{% block content %}
	<div class="" style="margin-bottom: 30px">
		<h3 style="font-size: 25px; color: #272f07">COMPANIES STATISTICS</h3>
		<hr style="width: 40px; height: 2px">
	</div>

	<div>
		<form action="" method="get">
			<h5 style="font-weight: bold;">Search Reports</h5>
			<hr style="width: 20px">
			<div class="row">
				<div class="col-lg-5">
				<div class="mb-3">
					<label for="">Start Date</label>
				  <input class="form-control form-control-sm" type="date" placeholder="Start date" aria-label=".form-control-sm example" name="start" required="">
				</div>
				</div>

				<div class="col-lg-5">
					<div class="mb-3">
						<label for="">End Date</label>
				  <input class="form-control form-control-sm" type="date" placeholder="last date" aria-label=".form-control-sm example" name="last" required="">
				</div>
				</div>

				<div class="col-lg-2">
					<button type="submit" class="btn btn-primary" style="margin-top: 28px">Search</button>
				</div>
			</div>
			
		</form>
	</div>
	<!--
	<div style="display: flex; justify-content: space-between;">
			{% for month in months%}
				<form action="" method="get">
					<input type="hidden" value="{{month.index}}" name="month">
					<button type="submit" class="btn btn-primary">{{month.name}}</button>
				</form>
			{% endfor %}
		</div>
	-->
	<div class="profile-main">
		
		<div class="info-section">
			<div class="table">
				{% for subscription in subscriptions %}

					<div class="third-row">
						<h3>{{subscription.name}}</h3>
						<table class="table table-striped">
						  <thead>
						    <tr>
						    	<th scope="col">#</th>
						      <th scope="col">Month</th>
						      <th scope="col">Amount Paid</th>
						      <!-- <th scope="col">Balance</th> -->
						      <th scope="col">No. Transactions</th>
						      <th scope="col">Earned Commission</th>
						    </tr>
						  </thead>
						  <tbody>
							{% if subscription.months %}
							  	{% for month in subscription.months %}
							    <tr>
							      <th scope="row">{{month.no}}</th>
							      <td>{{month.month}}</td>
							      <td>Kshs. {{month.amount}}</td>
							      <td>{{month.transactions}}</td>
							      <!-- <td>00</td> -->
							      <td>
									<button class="btn btn-success">Kshs. {{month.revenue}}</button>
									</td>
							    </tr>
							    {% endfor %}
							{% else %}
								<tr>
									<td colspan="7">
										<div align="center" style="color: brown; font-weight: bold;">
											No Transctions
										</div>
										
									</td>
								</tr>
							{% endif %}
							
						  </tbody>
						</table>
					</div>

					{% endfor %}
			</div>

			
		</div>
		<!--
		<div class="update-section">

			<div class="form">
				<h3>Update Information</h3>
				<form action="{% url 'accounts:update' request.user.id %}" method="post">
					{% csrf_token %}
					<div class="row">
						<div class="col-lg-6">
							<div class="mb-3">
								 <label for="exampleFormControlInput1" class="form-label">First Name</label>
							  <input class="form-control form-control-sm" type="text" placeholder="First Name" aria-label=".form-control-sm example" name="first_name" value="{{user.first_name}}">
							</div>
						</div>

						<div class="col-lg-6">
							<div class="mb-3">
								 <label for="exampleFormControlInput1" class="form-label">Last Name</label>
							  <input class="form-control form-control-sm" type="text" placeholder="Last Name" aria-label=".form-control-sm example" name="last_name" value="{{user.last_name}}">
							</div>
						</div>

					</div>

					<div class="mb-3">
						 <label for="exampleFormControlInput1" class="form-label">Email address</label>
					  <input class="form-control form-control-sm" type="email" placeholder="Email Address" aria-label=".form-control-sm example" name="email" value="{{user.email}}">
					</div>
					
					 <label for="exampleFormControlInput1" class="form-label">Phone Number</label>
					<div class="input-group input-group-sm mb-3">

						<span class="input-group-text" id="inputGroup-sizing-sm">+254</span>
						<input type="number" class="form-control" aria-label="Sizing example input" 
						placeholder="Phone number" 
						aria-describedby="inputGroup-sizing-sm" name="phone_number" value="{{user.phone_number}}">

						
					</div>
					<div id="emailHelp" class="form-text">Make sure this number is registered with Mpesa.</div> <br>
					
					<div class="bottom">
						<button type="submit" class="btn btn-primary">Update</button>
					</div>
					
				</form>
			</div>

		
			
		</div> -->
	</div>
{% endblock %}